
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>ğŸ“– Reconstructing probed points &#8212; Kinetics Toolkit</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/css/custom.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="canonical" href="https://kineticstoolkit.uqam.ca/doc/kinematics_reconstructing_probed_points.html" />
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="ğŸ“– Extensions" href="extensions.html" />
    <link rel="prev" title="ğŸ“– Reconstructing removed markers" href="kinematics_reconstructing_removed_markers.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="_static/logo.png" class="logo" alt="logo">
      
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="ktk_manual.html">
   ğŸ“˜ Manual
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="ktk_overview.html">
     ğŸ“– An overview of Kinetics Toolkit
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="ktk_installing.html">
     ğŸ“– Installing and importing
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="timeseries.html">
     ğŸ“– TimeSeries
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
    <label for="toctree-checkbox-2">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="timeseries_basics.html">
       ğŸ“– TimeSeries basics
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="timeseries_manipulating.html">
       ğŸ“– Manipulating TimeSeries
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="timeseries_dataframes.html">
       ğŸ“– Converting between TimeSeries and pandas DataFrames
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="loadsave.html">
     ğŸ“– Saving and loading
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="filters.html">
     ğŸ“– Filtering
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
    <label for="toctree-checkbox-3">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="filters_butter.html">
       ğŸ“– Butterworth filter
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="filters_smooth_savgol.html">
       ğŸ“– Moving average and Savitsky-Golay
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="filters_median.html">
       ğŸ“– Removing artefacts using a median filter
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="cycles.html">
     ğŸ“– Working with cycles
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="geometry.html">
     ğŸ“– 3D rigid body geometry
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
    <label for="toctree-checkbox-4">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="geometry_basics.html">
       ğŸ“– Coordinates: points, vectors and frames
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="geometry_transform_moving_coordinates.html">
       ğŸ“– The homogeneous transform: rotating and translating coordinates
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="geometry_transform_changing_coordinate_system.html">
       ğŸ“– The homogeneous transform: mapping coordinates to other coordinate systems
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="geometry_kinematic_chains.html">
       ğŸ“– Kinematic chains
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="geometry_angles.html">
       ğŸ“– Extracting angles
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="geometry_dimension_conventions.html">
       ğŸ“– Dimension conventions
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 current active has-children">
    <a class="reference internal" href="kinematics.html">
     ğŸ“– Kinematics analysis
    </a>
    <input checked="" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
    <label for="toctree-checkbox-5">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul class="current">
     <li class="toctree-l3">
      <a class="reference internal" href="kinematics_load_visualize.html">
       ğŸ“– Reading and visualizing markers in 3D
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="kinematics_joint_angles.html">
       ğŸ“– Calculating joint angles from a kinematic acquisition
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="kinematics_reconstructing_occluded_markers.html">
       ğŸ“– Reconstructing occluded markers
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="kinematics_reconstructing_removed_markers.html">
       ğŸ“– Reconstructing removed markers
      </a>
     </li>
     <li class="toctree-l3 current active">
      <a class="current reference internal" href="#">
       ğŸ“– Reconstructing probed points
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="extensions.html">
     ğŸ“– Extensions
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="api_reference.html">
   ğŸ“˜ API Reference
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="ktk_conventions.html">
     ğŸ“– Conventions
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="api_classes.html">
     ğŸ“– Classes
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
    <label for="toctree-checkbox-7">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="api/ktk.TimeSeries.html">
       ktk.TimeSeries
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
      <label for="toctree-checkbox-8">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.add_data_info.html">
         ktk.TimeSeries.add_data_info
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.add_event.html">
         ktk.TimeSeries.add_event
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.copy.html">
         ktk.TimeSeries.copy
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.count_events.html">
         ktk.TimeSeries.count_events
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.fill_missing_samples.html">
         ktk.TimeSeries.fill_missing_samples
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.from_dataframe.html">
         ktk.TimeSeries.from_dataframe
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.get_event_index.html">
         ktk.TimeSeries.get_event_index
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.get_event_time.html">
         ktk.TimeSeries.get_event_time
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.get_index_after_time.html">
         ktk.TimeSeries.get_index_after_time
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.get_index_at_time.html">
         ktk.TimeSeries.get_index_at_time
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.get_index_before_time.html">
         ktk.TimeSeries.get_index_before_time
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.get_sample_rate.html">
         ktk.TimeSeries.get_sample_rate
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.get_subset.html">
         ktk.TimeSeries.get_subset
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.get_ts_after_event.html">
         ktk.TimeSeries.get_ts_after_event
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.get_ts_after_index.html">
         ktk.TimeSeries.get_ts_after_index
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.get_ts_after_time.html">
         ktk.TimeSeries.get_ts_after_time
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.get_ts_at_event.html">
         ktk.TimeSeries.get_ts_at_event
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.get_ts_at_time.html">
         ktk.TimeSeries.get_ts_at_time
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.get_ts_before_event.html">
         ktk.TimeSeries.get_ts_before_event
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.get_ts_before_index.html">
         ktk.TimeSeries.get_ts_before_index
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.get_ts_before_time.html">
         ktk.TimeSeries.get_ts_before_time
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.get_ts_between_events.html">
         ktk.TimeSeries.get_ts_between_events
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.get_ts_between_indexes.html">
         ktk.TimeSeries.get_ts_between_indexes
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.get_ts_between_times.html">
         ktk.TimeSeries.get_ts_between_times
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.isnan.html">
         ktk.TimeSeries.isnan
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.merge.html">
         ktk.TimeSeries.merge
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.plot.html">
         ktk.TimeSeries.plot
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.remove_data.html">
         ktk.TimeSeries.remove_data
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.remove_data_info.html">
         ktk.TimeSeries.remove_data_info
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.remove_duplicate_events.html">
         ktk.TimeSeries.remove_duplicate_events
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.remove_event.html">
         ktk.TimeSeries.remove_event
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.rename_data.html">
         ktk.TimeSeries.rename_data
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.rename_event.html">
         ktk.TimeSeries.rename_event
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.resample.html">
         ktk.TimeSeries.resample
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.shift.html">
         ktk.TimeSeries.shift
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.sort_events.html">
         ktk.TimeSeries.sort_events
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.sync_event.html">
         ktk.TimeSeries.sync_event
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.to_dataframe.html">
         ktk.TimeSeries.to_dataframe
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.trim_events.html">
         ktk.TimeSeries.trim_events
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.ui_edit_events.html">
         ktk.TimeSeries.ui_edit_events
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.ui_get_ts_between_clicks.html">
         ktk.TimeSeries.ui_get_ts_between_clicks
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.ui_sync.html">
         ktk.TimeSeries.ui_sync
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="api/ktk.TimeSeriesEvent.html">
       ktk.TimeSeriesEvent
      </a>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="api/ktk.Player.html">
       ktk.Player
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
      <label for="toctree-checkbox-9">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.Player.close.html">
         ktk.Player.close
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.Player.to_html5.html">
         ktk.Player.to_html5
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="api_functions.html">
     ğŸ“– Functions
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
    <label for="toctree-checkbox-10">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="api/ktk.import_extensions.html">
       ktk.import_extensions
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="api/ktk.load.html">
       ktk.load
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="api/ktk.save.html">
       ktk.save
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="api/ktk.read_c3d.html">
       ktk.read_c3d
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="api/ktk.write_c3d.html">
       ktk.write_c3d
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="api/ktk.change_defaults.html">
       ktk.change_defaults
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="api_modules.html">
     ğŸ“– Modules
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
    <label for="toctree-checkbox-11">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="api/ktk.cycles.html">
       ktk.cycles
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
      <label for="toctree-checkbox-12">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.cycles.detect_cycles.html">
         ktk.cycles.detect_cycles
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.cycles.most_repeatable_cycles.html">
         ktk.cycles.most_repeatable_cycles
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.cycles.stack.html">
         ktk.cycles.stack
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.cycles.time_normalize.html">
         ktk.cycles.time_normalize
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.cycles.unstack.html">
         ktk.cycles.unstack
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="api/ktk.doc.html">
       ktk.doc
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
      <label for="toctree-checkbox-13">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.doc.download.html">
         ktk.doc.download
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="api/ktk.filters.html">
       ktk.filters
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
      <label for="toctree-checkbox-14">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.filters.butter.html">
         ktk.filters.butter
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.filters.deriv.html">
         ktk.filters.deriv
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.filters.median.html">
         ktk.filters.median
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.filters.savgol.html">
         ktk.filters.savgol
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.filters.smooth.html">
         ktk.filters.smooth
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="api/ktk.geometry.html">
       ktk.geometry
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/>
      <label for="toctree-checkbox-15">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.geometry.create_frames.html">
         ktk.geometry.create_frames
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.geometry.create_transforms.html">
         ktk.geometry.create_transforms
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.geometry.get_angles.html">
         ktk.geometry.get_angles
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.geometry.get_global_coordinates.html">
         ktk.geometry.get_global_coordinates
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.geometry.get_local_coordinates.html">
         ktk.geometry.get_local_coordinates
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.geometry.isnan.html">
         ktk.geometry.isnan
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.geometry.matmul.html">
         ktk.geometry.matmul
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.geometry.register_points.html">
         ktk.geometry.register_points
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="api/ktk.kinematics.html">
       ktk.kinematics
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/>
      <label for="toctree-checkbox-16">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.kinematics.create_cluster.html">
         ktk.kinematics.create_cluster
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.kinematics.extend_cluster.html">
         ktk.kinematics.extend_cluster
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.kinematics.track_cluster.html">
         ktk.kinematics.track_cluster
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="dev_extensions.html">
     ğŸ“– Developing extensions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="ktk_release_notes.html">
     ğŸ—“ Release Notes
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="dev_contributing.html">
   ğŸ‘‹ How to contribute
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/>
  <label for="toctree-checkbox-17">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="ktk_citing.html">
     ğŸ“„ Citing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="dev_rules.html">
     ğŸ“– Development rules
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="dev_code_of_conduct.html">
     ğŸ“– Code of conduct
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="dev_installing_from_github.html">
     ğŸ“– Installing from GitHub
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="dev_coding_style.html">
     ğŸ“– Coding style
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference external" href="https://github.com/felixchenier/kineticstoolkit">
     ğŸŒ GitHub repository
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="python_for_beginners.html">
   ğŸ“˜ Learning Python for biomechanics
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/>
  <label for="toctree-checkbox-18">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="python_getting_started.html">
     ğŸ“– Getting started with Python
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" type="checkbox"/>
    <label for="toctree-checkbox-19">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="python_installing.html">
       ğŸ“– Installing Python, Spyder and the most important scientific packages
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="python_configuring_spyder.html">
       ğŸ“– Configuring Spyder for Python biomechanics
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="python_using_spyder.html">
       ğŸ“– Using Spyder
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="python.html">
     ğŸ“– The Python language
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" type="checkbox"/>
    <label for="toctree-checkbox-20">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="python_arithmetics_and_variables.html">
       ğŸ“– Arithmetics and variables
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="python_numbers.html">
       ğŸ“– Numbers
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="python_strings.html">
       ğŸ“– Strings basics
      </a>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="python_functions.html">
       ğŸ“– Functions
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" type="checkbox"/>
      <label for="toctree-checkbox-21">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="python_functions_syntax.html">
         ğŸ“– Function syntax
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="python_functions_docstrings.html">
         ğŸ“– Docstrings
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="python_functions_keywords_defaults.html">
         ğŸ“– Arguments and default values
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="python_conditions.html">
       ğŸ“– Conditions and booleans
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="python_lists_indexing.html">
       ğŸ“– Creating and indexing lists
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="python_lists_slicing.html">
       ğŸ“– Slicing lists
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="python_lists_mutability.html">
       ğŸ“– Manipulating lists
      </a>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="python_looping.html">
       ğŸ“– Looping
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" type="checkbox"/>
      <label for="toctree-checkbox-22">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="python_while.html">
         ğŸ“– Looping using
         <code class="docutils literal notranslate">
          <span class="pre">
           while
          </span>
         </code>
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="python_for_range.html">
         ğŸ“– Looping using
         <code class="docutils literal notranslate">
          <span class="pre">
           for
          </span>
         </code>
         and
         <code class="docutils literal notranslate">
          <span class="pre">
           range
          </span>
         </code>
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="python_for_enumerate.html">
         ğŸ“– Looping though a list using
         <code class="docutils literal notranslate">
          <span class="pre">
           enumerate
          </span>
         </code>
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="python_dicts.html">
       ğŸ“– Dictionaries
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="python_integration_exercises.html">
       ğŸ“– Integration exercises
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="matplotlib.html">
     ğŸ“– Matplotlib
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" type="checkbox"/>
    <label for="toctree-checkbox-23">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="matplotlib_import.html">
       ğŸ“– Importing
       <code class="docutils literal notranslate">
        <span class="pre">
         pyplot
        </span>
       </code>
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="matplotlib_frontend.html">
       ğŸ“– Matplotlib frontend
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="matplotlib_plot.html">
       ğŸ“– Line plots
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="matplotlib_subplot.html">
       ğŸ“– Multiple plots side by side
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="matplotlib_style.html">
       ğŸ“– Markers, line style and colours
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="matplotlib_axis.html">
       ğŸ“– Setting the axes limits
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="matplotlib_ginput.html">
       ğŸš§ Graphical input
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="numpy.html">
     ğŸ“– NumPy
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-24" name="toctree-checkbox-24" type="checkbox"/>
    <label for="toctree-checkbox-24">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="numpy_ndarray.html">
       ğŸ“– Arrays
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="numpy_arithmetics_and_comparisons.html">
       ğŸ“– Arithmetics and comparisons
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="numpy_indexing_slicing_filtering_1d.html">
       ğŸ“– Indexing, slicing and filtering unidimensional arrays
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="numpy_indexing_slicing_filtering_nd.html">
       ğŸ“– Indexing, slicing and filtering multidimensional arrays
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="numpy_combining.html">
       ğŸš§ Combining arrays
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="pandas.html">
     ğŸš§ Pandas
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="_sources/kinematics_reconstructing_probed_points.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#loading-sample-data">
   ğŸ“„ Loading sample data
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#defining-the-probe-calibration">
   ğŸ“„ Defining the probe calibration
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tracking-the-probe-in-the-probing-acquisition">
   ğŸ“„ Tracking the probe in the probing acquisition
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#creating-a-cluster-of-markers">
   ğŸ“„ Creating a cluster of markers
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tracking-the-cluster">
   ğŸ“„ Tracking the cluster
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>ğŸ“– Reconstructing probed points</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#loading-sample-data">
   ğŸ“„ Loading sample data
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#defining-the-probe-calibration">
   ğŸ“„ Defining the probe calibration
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tracking-the-probe-in-the-probing-acquisition">
   ğŸ“„ Tracking the probe in the probing acquisition
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#creating-a-cluster-of-markers">
   ğŸ“„ Creating a cluster of markers
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tracking-the-cluster">
   ğŸ“„ Tracking the cluster
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="reconstructing-probed-points">
<h1>ğŸ“– Reconstructing probed points<a class="headerlink" href="#reconstructing-probed-points" title="Permalink to this headline">#</a></h1>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
Summary</div>
<p class="sd-card-text">This tutorial explains how to use the <a class="reference internal" href="api/ktk.kinematics.html"><span class="doc std std-doc">ktk.kinematics</span></a> module to reconstruct virtual markers using a probe and rigid clusters.</p>
</div>
</div>
<p>In the previous tutorial, we learned how to reconstructed â€œvirtualâ€ markers that are not physically attached to a bony landmark, but that were during a previous acquisition. Sometimes, it is completely impossible to affix a marker on a landmark, for example if the landmark is obstructed with clothes or other objects. In these situation, it may be possible to use a digitizing probe (image below, from <a class="reference external" href="http://optitrack.com">optitrack.com</a>) to point landmarks during short acquisitions of a few seconds, and use these probed points to reconstruct the landmarks trajectory during other acquisitions.</p>
<p><img alt="Digitizing probe -height:short" src="_images/probe-kit.png" /></p>
<p>The whole process is a bit more complex than in the previous tutorials, but the tools provided by Kinetics Toolkit will help. The following example represents such a situation, where the following acquisitions were performed:</p>
<ul class="simple">
<li><p>With a rigid body of three markers affixed to the right arm, an acquisition of a few seconds was recorded while another person touched the medial elbow epicondyle with the tip of the probe. Both were barely moving.</p></li>
<li><p>A wheelchair propulsion acquisition was then recorded.</p></li>
<li><p>We want to reconstruct the trajectory of the right medial elbow epicondyle during the propulsion acquisition, even if it was not present during the acquisition.</p></li>
</ul>
<section id="loading-sample-data">
<h2>ğŸ“„ Loading sample data<a class="headerlink" href="#loading-sample-data" title="Permalink to this headline">#</a></h2>
<p>We will create two TimeSeries, one representing the markers available during the probing acquisition, and the other representing the markers available during the propulsion acquisition.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">kineticstoolkit.lab</span> <span class="k">as</span> <span class="nn">ktk</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># Probing acquisition</span>
<span class="n">markers_probing</span> <span class="o">=</span> <span class="n">ktk</span><span class="o">.</span><span class="n">read_c3d</span><span class="p">(</span>
    <span class="n">ktk</span><span class="o">.</span><span class="n">doc</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s2">&quot;kinematics_racing_probing_medial_epicondyle_R.c3d&quot;</span><span class="p">)</span>
<span class="p">)[</span><span class="s2">&quot;Points&quot;</span><span class="p">]</span>
<span class="n">markers_probing</span> <span class="o">=</span> <span class="n">markers_probing</span><span class="o">.</span><span class="n">get_subset</span><span class="p">(</span>
    <span class="p">[</span><span class="s2">&quot;ArmR1&quot;</span><span class="p">,</span> <span class="s2">&quot;ArmR2&quot;</span><span class="p">,</span> <span class="s2">&quot;ArmR3&quot;</span><span class="p">,</span> <span class="s2">&quot;Probe1&quot;</span><span class="p">,</span> <span class="s2">&quot;Probe2&quot;</span><span class="p">,</span> <span class="s2">&quot;Probe3&quot;</span><span class="p">,</span> <span class="s2">&quot;Probe4&quot;</span><span class="p">]</span>
<span class="p">)</span>

<span class="n">markers_probing</span><span class="o">.</span><span class="n">data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{
     &#39;ArmR1&#39;: &lt;array of shape (140, 4)&gt;
     &#39;ArmR2&#39;: &lt;array of shape (140, 4)&gt;
     &#39;ArmR3&#39;: &lt;array of shape (140, 4)&gt;
    &#39;Probe1&#39;: &lt;array of shape (140, 4)&gt;
    &#39;Probe2&#39;: &lt;array of shape (140, 4)&gt;
    &#39;Probe3&#39;: &lt;array of shape (140, 4)&gt;
    &#39;Probe4&#39;: &lt;array of shape (140, 4)&gt;
}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Propulsion acquisition</span>
<span class="n">markers_propulsion</span> <span class="o">=</span> <span class="n">ktk</span><span class="o">.</span><span class="n">read_c3d</span><span class="p">(</span>
    <span class="n">ktk</span><span class="o">.</span><span class="n">doc</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s2">&quot;kinematics_racing_propulsion.c3d&quot;</span><span class="p">)</span>
<span class="p">)[</span><span class="s2">&quot;Points&quot;</span><span class="p">]</span>
<span class="n">markers_propulsion</span> <span class="o">=</span> <span class="n">markers_propulsion</span><span class="o">.</span><span class="n">get_subset</span><span class="p">([</span><span class="s2">&quot;ArmR1&quot;</span><span class="p">,</span> <span class="s2">&quot;ArmR2&quot;</span><span class="p">,</span> <span class="s2">&quot;ArmR3&quot;</span><span class="p">])</span>

<span class="n">markers_propulsion</span><span class="o">.</span><span class="n">data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{
    &#39;ArmR1&#39;: &lt;array of shape (700, 4)&gt;
    &#39;ArmR2&#39;: &lt;array of shape (700, 4)&gt;
    &#39;ArmR3&#39;: &lt;array of shape (700, 4)&gt;
}
</pre></div>
</div>
</div>
</div>
</section>
<section id="defining-the-probe-calibration">
<h2>ğŸ“„ Defining the probe calibration<a class="headerlink" href="#defining-the-probe-calibration" title="Permalink to this headline">#</a></h2>
<p>Before beginning with this tutorial, we must know the configuration of the probe. What we need is the position of the probe markers in the probeâ€™s local coordinate system, assuming that this coordinate systemâ€™s origin is at the probe tip. These positions are generally found in rigid body configuration files or in calibration certificates. In this tutorial, our probe has four markers with the following local coordinates:</p>
<ul class="simple">
<li><p>Probe1: (0.0021213, -0.0158328, 0.0864285) m</p></li>
<li><p>Probe2: (0.0021213, 0.0158508, 0.0864285) m</p></li>
<li><p>Probe3: (0.0020575, 0.0160096, 0.1309445) m</p></li>
<li><p>Probe4: (0.0021213, 0.0161204, 0.1754395) m</p></li>
</ul>
<p>We will use these known coordinates to create a cluster as in the previous tutorials, but here we do it manually since we already know the coordinates.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">probe</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;ProbeTip&quot;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]]),</span>
    <span class="s2">&quot;Probe1&quot;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.0021213</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.0158328</span><span class="p">,</span> <span class="mf">0.0864285</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]]),</span>
    <span class="s2">&quot;Probe2&quot;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.0021213</span><span class="p">,</span> <span class="mf">0.0158508</span><span class="p">,</span> <span class="mf">0.0864285</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]]),</span>
    <span class="s2">&quot;Probe3&quot;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.0020575</span><span class="p">,</span> <span class="mf">0.0160096</span><span class="p">,</span> <span class="mf">0.1309445</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]]),</span>
    <span class="s2">&quot;Probe4&quot;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.0021213</span><span class="p">,</span> <span class="mf">0.0161204</span><span class="p">,</span> <span class="mf">0.1754395</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]]),</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="tracking-the-probe-in-the-probing-acquisition">
<h2>ğŸ“„ Tracking the probe in the probing acquisition<a class="headerlink" href="#tracking-the-probe-in-the-probing-acquisition" title="Permalink to this headline">#</a></h2>
<p>In the probing acquisition, since the probe tip points on the medial epicondyle, we can consider the probe tip as if it was a real marker affixed on the medial epicondyle. The first step is therefore to track the probe tip during the probing acquisition, using the four markers of the probe.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">reconstructed_probe_markers_during_probing</span> <span class="o">=</span> <span class="n">ktk</span><span class="o">.</span><span class="n">kinematics</span><span class="o">.</span><span class="n">track_cluster</span><span class="p">(</span>
    <span class="n">markers_probing</span><span class="p">,</span>
    <span class="n">probe</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">reconstructed_probe_markers_during_probing</span><span class="o">.</span><span class="n">data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{
    &#39;ProbeTip&#39;: &lt;array of shape (140, 4)&gt;
      &#39;Probe1&#39;: &lt;array of shape (140, 4)&gt;
      &#39;Probe2&#39;: &lt;array of shape (140, 4)&gt;
      &#39;Probe3&#39;: &lt;array of shape (140, 4)&gt;
      &#39;Probe4&#39;: &lt;array of shape (140, 4)&gt;
}
</pre></div>
</div>
</div>
</div>
<p>Since we reconstructed the trajectory of the probe tip during the probing acquisition, we can now consider that this trajectory is the same as if a real marker had been affixed on the medial epicondyle.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">markers_probing</span><span class="o">.</span><span class="n">data</span><span class="p">[</span>
    <span class="s2">&quot;MedialEpicondyleR&quot;</span>
<span class="p">]</span> <span class="o">=</span> <span class="n">reconstructed_probe_markers_during_probing</span><span class="o">.</span><span class="n">data</span><span class="p">[</span><span class="s2">&quot;ProbeTip&quot;</span><span class="p">]</span>

<span class="n">markers_probing</span><span class="o">.</span><span class="n">data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{
                &#39;ArmR1&#39;: &lt;array of shape (140, 4)&gt;
                &#39;ArmR2&#39;: &lt;array of shape (140, 4)&gt;
                &#39;ArmR3&#39;: &lt;array of shape (140, 4)&gt;
               &#39;Probe1&#39;: &lt;array of shape (140, 4)&gt;
               &#39;Probe2&#39;: &lt;array of shape (140, 4)&gt;
               &#39;Probe3&#39;: &lt;array of shape (140, 4)&gt;
               &#39;Probe4&#39;: &lt;array of shape (140, 4)&gt;
    &#39;MedialEpicondyleR&#39;: &lt;array of shape (140, 4)&gt;
}
</pre></div>
</div>
</div>
</div>
</section>
<section id="creating-a-cluster-of-markers">
<h2>ğŸ“„ Creating a cluster of markers<a class="headerlink" href="#creating-a-cluster-of-markers" title="Permalink to this headline">#</a></h2>
<p>We are now in the same situation as the beginning of the previous tutorial. We can now create a cluster that includes the three rigid body markers, <strong>and</strong> the medial epicondyle.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cluster</span> <span class="o">=</span> <span class="n">ktk</span><span class="o">.</span><span class="n">kinematics</span><span class="o">.</span><span class="n">create_cluster</span><span class="p">(</span>
    <span class="n">markers_probing</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;ArmR1&quot;</span><span class="p">,</span> <span class="s2">&quot;ArmR2&quot;</span><span class="p">,</span> <span class="s2">&quot;ArmR3&quot;</span><span class="p">,</span> <span class="s2">&quot;MedialEpicondyleR&quot;</span><span class="p">]</span>
<span class="p">)</span>

<span class="c1"># Print the cluster contents</span>
<span class="nb">print</span><span class="p">(</span><span class="n">cluster</span><span class="p">[</span><span class="s2">&quot;ArmR1&quot;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">cluster</span><span class="p">[</span><span class="s2">&quot;ArmR2&quot;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">cluster</span><span class="p">[</span><span class="s2">&quot;ArmR3&quot;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">cluster</span><span class="p">[</span><span class="s2">&quot;MedialEpicondyleR&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[[-0.  0. -0.  1.]]
[[ 0.04297859 -0.         -0.          1.        ]]
[[ 0.02150487  0.03747125 -0.          1.        ]]
[[0.08345064 0.12620648 0.10931605 1.        ]]
</pre></div>
</div>
</div>
</div>
</section>
<section id="tracking-the-cluster">
<h2>ğŸ“„ Tracking the cluster<a class="headerlink" href="#tracking-the-cluster" title="Permalink to this headline">#</a></h2>
<p>Now, exactly like on the previous tutorial, we use this cluster to reconstruct the whole set of four â€œmarkersâ€ during the propulsion acquisitions, including the epicondyle.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">reconstructed_markers_propulsion</span> <span class="o">=</span> <span class="n">ktk</span><span class="o">.</span><span class="n">kinematics</span><span class="o">.</span><span class="n">track_cluster</span><span class="p">(</span>
    <span class="n">markers_propulsion</span><span class="p">,</span>
    <span class="n">cluster</span><span class="p">,</span>
<span class="p">)</span>

<span class="c1"># Plot the results</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">reconstructed_markers_propulsion</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s2">&quot;ArmR1&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">reconstructed_markers_propulsion</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s2">&quot;ArmR2&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">reconstructed_markers_propulsion</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s2">&quot;ArmR3&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">reconstructed_markers_propulsion</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="s2">&quot;MedialEpicondyleR&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/kinematics_reconstructing_probed_points_13_0.png" src="_images/kinematics_reconstructing_probed_points_13_0.png" />
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="kinematics_reconstructing_removed_markers.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">ğŸ“– Reconstructing removed markers</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="extensions.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">ğŸ“– Extensions</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By FÃ©lix ChÃ©nier<br/>
  
      &copy; Copyright 2020-2022.<br/>
    <div class="extra_footer">
      This website is built using <a href='https://jupyterbook.org'>jupyter-book</a>.
    </div>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>
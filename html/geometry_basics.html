
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Basics of rigid body geometry &#8212; Kinetics Toolkit</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/css/custom.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="canonical" href="https://kineticstoolkit.uqam.ca/doc/geometry_basics.html" />
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Dimension conventions and first example" href="geometry_dimension_conventions.html" />
    <link rel="prev" title="3D rigid body geometry" href="geometry.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="_static/logo.png" class="logo" alt="logo">
      
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="ktk_manual.html">
   Manual
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="ktk_overview.html">
     An overview of Kinetics Toolkit
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="ktk_installing.html">
     Installing and importing
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="timeseries.html">
     TimeSeries
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
    <label for="toctree-checkbox-2">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="timeseries_basics.html">
       TimeSeries basics
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="timeseries_manipulating.html">
       Manipulating TimeSeries
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="timeseries_dataframes.html">
       Converting between TimeSeries and Pandas DataFrames
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="loadsave.html">
     Saving and loading
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="filters.html">
     Filtering
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
    <label for="toctree-checkbox-3">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="filters_butter.html">
       Removing frequencies using a Butterworth filter
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="filters_smooth.html">
       Smoothing signals using a moving average
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="filters_savgol.html">
       Smoothing and deriving using a Savitzky-Golay filter
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="filters_median.html">
       Removing artefacts using a median filter
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="cycles.html">
     Detecting and normalizing cycles
    </a>
   </li>
   <li class="toctree-l2 current active has-children">
    <a class="reference internal" href="geometry.html">
     3D rigid body geometry
    </a>
    <input checked="" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
    <label for="toctree-checkbox-4">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul class="current">
     <li class="toctree-l3 current active">
      <a class="current reference internal" href="#">
       Basics of rigid body geometry
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="geometry_dimension_conventions.html">
       Dimension conventions and first example
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="kinematics.html">
     Kinematics analysis
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
    <label for="toctree-checkbox-5">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="kinematics_load_visualize.html">
       Reading and visualizing marker trajectories
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="kinematics_joint_angles.html">
       Calculating joint angles from a kinematic acquisition
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="kinematics_reconstructing_occluded_markers.html">
       Reconstructing occluded markers
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="kinematics_reconstructing_removed_markers.html">
       Reconstructing removed markers
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="kinematics_reconstructing_probed_points.html">
       Reconstructing probed points
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="extensions.html">
     Extensions
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="api_reference.html">
   API Reference
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="ktk_conventions.html">
     Conventions
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="api_classes.html">
     Classes
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
    <label for="toctree-checkbox-7">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="api/ktk.TimeSeries.html">
       ktk.TimeSeries
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
      <label for="toctree-checkbox-8">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.add_data_info.html">
         ktk.TimeSeries.add_data_info
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.add_event.html">
         ktk.TimeSeries.add_event
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.copy.html">
         ktk.TimeSeries.copy
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.fill_missing_samples.html">
         ktk.TimeSeries.fill_missing_samples
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.from_dataframe.html">
         ktk.TimeSeries.from_dataframe
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.get_event_index.html">
         ktk.TimeSeries.get_event_index
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.get_event_time.html">
         ktk.TimeSeries.get_event_time
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.get_index_after_time.html">
         ktk.TimeSeries.get_index_after_time
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.get_index_at_time.html">
         ktk.TimeSeries.get_index_at_time
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.get_index_before_time.html">
         ktk.TimeSeries.get_index_before_time
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.get_sample_rate.html">
         ktk.TimeSeries.get_sample_rate
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.get_subset.html">
         ktk.TimeSeries.get_subset
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.get_ts_after_event.html">
         ktk.TimeSeries.get_ts_after_event
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.get_ts_after_index.html">
         ktk.TimeSeries.get_ts_after_index
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.get_ts_after_time.html">
         ktk.TimeSeries.get_ts_after_time
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.get_ts_at_event.html">
         ktk.TimeSeries.get_ts_at_event
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.get_ts_at_time.html">
         ktk.TimeSeries.get_ts_at_time
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.get_ts_before_event.html">
         ktk.TimeSeries.get_ts_before_event
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.get_ts_before_index.html">
         ktk.TimeSeries.get_ts_before_index
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.get_ts_before_time.html">
         ktk.TimeSeries.get_ts_before_time
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.get_ts_between_events.html">
         ktk.TimeSeries.get_ts_between_events
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.get_ts_between_indexes.html">
         ktk.TimeSeries.get_ts_between_indexes
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.get_ts_between_times.html">
         ktk.TimeSeries.get_ts_between_times
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.isnan.html">
         ktk.TimeSeries.isnan
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.merge.html">
         ktk.TimeSeries.merge
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.plot.html">
         ktk.TimeSeries.plot
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.remove_data.html">
         ktk.TimeSeries.remove_data
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.remove_data_info.html">
         ktk.TimeSeries.remove_data_info
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.remove_event.html">
         ktk.TimeSeries.remove_event
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.rename_data.html">
         ktk.TimeSeries.rename_data
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.rename_event.html">
         ktk.TimeSeries.rename_event
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.resample.html">
         ktk.TimeSeries.resample
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.shift.html">
         ktk.TimeSeries.shift
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.sort_events.html">
         ktk.TimeSeries.sort_events
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.sync_event.html">
         ktk.TimeSeries.sync_event
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.to_dataframe.html">
         ktk.TimeSeries.to_dataframe
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.trim_events.html">
         ktk.TimeSeries.trim_events
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.ui_edit_events.html">
         ktk.TimeSeries.ui_edit_events
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.ui_get_ts_between_clicks.html">
         ktk.TimeSeries.ui_get_ts_between_clicks
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.TimeSeries.ui_sync.html">
         ktk.TimeSeries.ui_sync
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="api/ktk.TimeSeriesEvent.html">
       ktk.TimeSeriesEvent
      </a>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="api/ktk.Player.html">
       ktk.Player
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
      <label for="toctree-checkbox-9">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.Player.close.html">
         ktk.Player.close
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.Player.to_html5.html">
         ktk.Player.to_html5
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="api_functions.html">
     Functions
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
    <label for="toctree-checkbox-10">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="api/ktk.import_extensions.html">
       ktk.import_extensions
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="api/ktk.load.html">
       ktk.load
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="api/ktk.save.html">
       ktk.save
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="api/ktk.read_c3d.html">
       ktk.read_c3d
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="api/ktk.write_c3d.html">
       ktk.write_c3d
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="api/ktk.change_defaults.html">
       ktk.change_defaults
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="api_modules.html">
     Modules
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
    <label for="toctree-checkbox-11">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="api/ktk.cycles.html">
       ktk.cycles
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
      <label for="toctree-checkbox-12">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.cycles.detect_cycles.html">
         ktk.cycles.detect_cycles
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.cycles.most_repeatable_cycles.html">
         ktk.cycles.most_repeatable_cycles
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.cycles.stack.html">
         ktk.cycles.stack
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.cycles.time_normalize.html">
         ktk.cycles.time_normalize
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.cycles.unstack.html">
         ktk.cycles.unstack
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="api/ktk.doc.html">
       ktk.doc
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
      <label for="toctree-checkbox-13">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.doc.download.html">
         ktk.doc.download
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="api/ktk.filters.html">
       ktk.filters
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
      <label for="toctree-checkbox-14">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.filters.butter.html">
         ktk.filters.butter
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.filters.deriv.html">
         ktk.filters.deriv
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.filters.median.html">
         ktk.filters.median
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.filters.savgol.html">
         ktk.filters.savgol
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.filters.smooth.html">
         ktk.filters.smooth
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="api/ktk.geometry.html">
       ktk.geometry
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/>
      <label for="toctree-checkbox-15">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.geometry.create_frames.html">
         ktk.geometry.create_frames
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.geometry.create_transforms.html">
         ktk.geometry.create_transforms
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.geometry.get_angles.html">
         ktk.geometry.get_angles
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.geometry.get_global_coordinates.html">
         ktk.geometry.get_global_coordinates
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.geometry.get_local_coordinates.html">
         ktk.geometry.get_local_coordinates
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.geometry.isnan.html">
         ktk.geometry.isnan
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.geometry.matmul.html">
         ktk.geometry.matmul
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.geometry.register_points.html">
         ktk.geometry.register_points
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="api/ktk.kinematics.html">
       ktk.kinematics
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/>
      <label for="toctree-checkbox-16">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.kinematics.create_cluster.html">
         ktk.kinematics.create_cluster
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.kinematics.extend_cluster.html">
         ktk.kinematics.extend_cluster
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="api/ktk.kinematics.track_cluster.html">
         ktk.kinematics.track_cluster
        </a>
       </li>
      </ul>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="dev_extensions.html">
     Developing extensions
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="ktk_release_notes.html">
     Release Notes
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="dev_contributing.html">
   How to contribute
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/>
  <label for="toctree-checkbox-17">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="ktk_citing.html">
     Citing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="dev_rules.html">
     Development rules
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="dev_code_of_conduct.html">
     Code of conduct
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="dev_installing_from_github.html">
     Installing from GitHub
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="dev_coding_style.html">
     Coding style
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference external" href="https://github.com/felixchenier/kineticstoolkit">
     GitHub repository
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="python_for_beginners.html">
   Learning Python for biomechanics
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/>
  <label for="toctree-checkbox-18">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="python_getting_started.html">
     Getting started with Python
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" type="checkbox"/>
    <label for="toctree-checkbox-19">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="python_installing.html">
       Installing Python, Spyder and the most important scientific packages
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="python_configuring_spyder.html">
       Configuring Spyder
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="python_using_spyder.html">
       Using Spyder
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="python.html">
     The Python language
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" type="checkbox"/>
    <label for="toctree-checkbox-20">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="python_arithmetics_and_variables.html">
       Arithmetics and variables
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="python_numbers.html">
       Numbers
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="python_strings.html">
       Strings basics
      </a>
     </li>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="python_functions.html">
       Functions
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" type="checkbox"/>
      <label for="toctree-checkbox-21">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="python_functions_syntax.html">
         ðŸš§ Function syntax
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="python_functions_good_practice.html">
         ðŸš§ Good practices with functions
        </a>
       </li>
       <li class="toctree-l4">
        <a class="reference internal" href="python_function_keywords.html">
         ðŸš§ Keyword arguments
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="python_conditions.html">
       ðŸš§ Conditions and booleans
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="python_lists.html">
       ðŸš§ Lists
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="python_while.html">
       ðŸš§ Looping (while)
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="python_for.html">
       ðŸš§ Looping (for)
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="python_dicts.html">
       ðŸš§ Dicts
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="python_string_operations.html">
       ðŸš§ String operations
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="python_more_advanced.html">
       ðŸš§ More advanced concepts
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="python_integration_exercises.html">
       ðŸš§ Integration exercises
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="numpy.html">
     ðŸš§ Numpy
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="matplotlib.html">
     ðŸš§ Matplotlib
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="pandas.html">
     ðŸš§ Pandas
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="_sources/geometry_basics.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#coordinates-points-vectors-and-frames">
   Coordinates: points, vectors and frames
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#global-coordinate-system">
     Global coordinate system
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#points-and-vectors">
     Points and vectors
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#local-coordinate-system">
     Local coordinate system
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#frames">
     Frames
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#rotations-and-translations-the-homogeneous-transform">
   Rotations and translations: the homogeneous transform
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#moving-coordinates">
     Moving coordinates
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#remap-coordinates-to-other-coordinate-systems">
     Remap coordinates to other coordinate systems
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#main-points-to-remember">
   Main points to remember
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Basics of rigid body geometry</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#coordinates-points-vectors-and-frames">
   Coordinates: points, vectors and frames
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#global-coordinate-system">
     Global coordinate system
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#points-and-vectors">
     Points and vectors
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#local-coordinate-system">
     Local coordinate system
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#frames">
     Frames
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#rotations-and-translations-the-homogeneous-transform">
   Rotations and translations: the homogeneous transform
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#moving-coordinates">
     Moving coordinates
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#remap-coordinates-to-other-coordinate-systems">
     Remap coordinates to other coordinate systems
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#main-points-to-remember">
   Main points to remember
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="basics-of-rigid-body-geometry">
<h1>Basics of rigid body geometry<a class="headerlink" href="#basics-of-rigid-body-geometry" title="Permalink to this headline">#</a></h1>
<p>This tutorial is an introduction or reminder of the basic elements of rigid body geometry. It covers the definitions of bodies, coordinate systems, coordinates (such as points, vectors and frames), and homogeneous transforms. It follows the nomenclature conventions of Craig, J., 1987. Introduction to robotics: Mechanics and control, in the context of rigid body biomechanics.</p>
<p>While these notions largely come from the robotics field, they will be approached in the scope of rigid body biomechanics. As such, we will use the posture in Figure 1 all through the tutorial as an example for every introduced notion. To facilitate the comprehension, this is a bidimensional example; however, we will treat it as conventional 3D problem, with all z coordinates being set to zero.</p>
<p><img alt="humerus_intro -height:short" src="_images/humerus_intro.png" /></p>
<p>Figure 1. The posture used as an example in this tutorial.</p>
<section id="coordinates-points-vectors-and-frames">
<h2>Coordinates: points, vectors and frames<a class="headerlink" href="#coordinates-points-vectors-and-frames" title="Permalink to this headline">#</a></h2>
<p>In this section, we will see how to express:</p>
<ul class="simple">
<li><p>Points (positions);</p></li>
<li><p>Vectors such as velocities, accelerations and forces; and</p></li>
<li><p>Frames, which are the orientation and position of a coordinate system.</p></li>
</ul>
<section id="global-coordinate-system">
<h3>Global coordinate system<a class="headerlink" href="#global-coordinate-system" title="Permalink to this headline">#</a></h3>
<p>To express any coordinate, we need a coordinate system. A coordinate system is composed of an origin (the point in space everything is expressed relative to) and a set of axes. In human movement biomechanics, we usually use a cartesian system composed of three orthonormal axes (x, y and z).</p>
<p>In newton dynamics and at the human scale, it is totally acceptable to define a global, non-moving coordinate system everything can be referenced to. In Figure 2, we define such a fixed system:</p>
<ul class="simple">
<li><p>The origin is approximately at the hip level and posterior to the person;</p></li>
<li><p>The x axis points forward;</p></li>
<li><p>The y axis points upward;</p></li>
<li><p>The z axis points to the right.</p></li>
</ul>
<p>This coordinate system is completely arbitrary: any other origin or set of orthonormal axes would still be perfectly valid. This is the one we chose here, and the one every global coordinate will refer to.</p>
<p><img alt="humerus_intro -height:normal" src="_images/humerus_global_coordinates.png" /></p>
<p>Figure 2. A global coordinate system</p>
</section>
<section id="points-and-vectors">
<h3>Points and vectors<a class="headerlink" href="#points-and-vectors" title="Permalink to this headline">#</a></h3>
<p>Using the global coordinate system of Figure 2, we can express the position of any point in space using its three components (x, y, z). For example, the position of the shoulder in global coordinates is:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
~^\text{global}p_\text{shoulder} = \begin{bmatrix}
x_\text{shoulder} \\
y_\text{shoulder} \\
z_\text{shoulder}
\end{bmatrix}
\end{split}\]</div>
<p>where <span class="math notranslate nohighlight">\(~^\text{global}p_\text{shoulder}\)</span> is read as: Position (<span class="math notranslate nohighlight">\(p\)</span>) of the shoulder expressed in the global coordinate system.</p>
<p>Note that while three components are sufficient to express points and vectors in three dimensions, we normally use four components instead, the fourth being 1 for points and 0 for vectors:</p>
<ul class="simple">
<li><p><strong>Points</strong>, such as positions, are expressed as <span class="math notranslate nohighlight">\([x, y, z, 1]^T\)</span>.</p></li>
<li><p><strong>Vectors</strong>, such as velocities, accelerations and forces, are expressed as <span class="math notranslate nohighlight">\([x, y, z, 0]^T\)</span>.</p></li>
</ul>
<p>Therefore, while we express the <strong>position</strong> (a point) of the shoulder in global coordinates as:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
~^\text{global}p_\text{shoulder} = \begin{bmatrix}
x_\text{shoulder} \\
y_\text{shoulder} \\
z_\text{shoulder} \\ 1
\end{bmatrix}
\end{split}\]</div>
<p>we would express its <strong>velocity</strong> (a vector) as:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
~^\text{global}\vec{v}_\text{shoulder} = \begin{bmatrix}
v_\text{x shoulder} \\
v_\text{y shoulder} \\
v_\text{z shoulder} \\ 0
\end{bmatrix}
\end{split}\]</div>
</section>
<section id="local-coordinate-system">
<h3>Local coordinate system<a class="headerlink" href="#local-coordinate-system" title="Permalink to this headline">#</a></h3>
<p>As we just saw, points and vectors are easy to express in a coordinate system. The orientation of a segment is however more complex. In Figure 2, if we wanted to express the orientation of the humerus, we would explicitely need this information:</p>
<ul class="simple">
<li><p>What is the initial, non-rotated orientation of the humerus?</p></li>
<li><p>By how many degrees is it rotated from its initial orientation?</p></li>
<li><p>Around which axes?</p></li>
</ul>
<p>The first step to answer these questions is to create a <strong>local coordinate system</strong> for the humerus. This local coordinate system will be attached to the humerus, and thus will move with it.</p>
<p>To create such a coordinate system, we need to define where is the origin and orthonormal axes of the humerus, in respect to the humerus itself. In this example, we will use the anatomical position as a reference to define this coordinate system (Figure 3):</p>
<ul class="simple">
<li><p>The humerus coordinate systemâ€™s origin is located at the glenohumeral joint;</p></li>
<li><p>Its x axis points forward;</p></li>
<li><p>Its y axis is aligned with the humerus, pointing upward;</p></li>
<li><p>Its z axis points to the right.</p></li>
</ul>
<p><img alt="humerus_coordinate_system -height:normal" src="_images/humerus_coordinate_system.png" /></p>
<p>Figure 3. Local coordinate system of the humerus.</p>
<p>Now that we defined this local coordinate system, we can come back to the position of interest of Figure 1. Look in Figure 4 how the humerus coordinate system is attached to the humerus and thus moves with it.</p>
<p><img alt="humerus_frame -height:normal" src="_images/humerus_frame.png" /></p>
<p>Figure 4. Expressing the position and orientation of the humerus.</p>
</section>
<section id="frames">
<h3>Frames<a class="headerlink" href="#frames" title="Permalink to this headline">#</a></h3>
<p>We are now ready to introduce the <strong>frame</strong>, a 4x4 matrix that expresses both the position and the orientation of a coordinate system, in reference to another coordinate system.</p>
<p>The fourth (easiest) column of a frame is the position of the local coordinate systemâ€™s origin expressed in the reference coordinate system. In the example of Figure 4, this is:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
~^\text{global}p_\text{humerus} = \begin{bmatrix}
x_\text{humerus} \\
y_\text{humerus} \\
z_\text{humerus} \\ 1
\end{bmatrix}
\end{split}\]</div>
<p>The three first columns of a frame express the frame orientation. They express, in the reference coordinate system, the coordinates of three vectors of length 1 that are respectively oriented toward the x, y and z axes of the local coordinate system. Figure 5 illustrates this concept by showing the difference of orientation between the global and the humerus coordinate systems.</p>
<p><img alt="humerus_orientation -height:normal" src="_images/humerus_orientation.png" /></p>
<p>Figure 5. Orientation of the humerus coordinate system.</p>
<p>Based on Figure 5, here is how we would express these three unit vectors (in bold) in both coordinate systems:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:right head"><p></p></th>
<th class="text-align:center head"><p>In the humerus coordinate system</p></th>
<th class="text-align:center head"><p>In the global coordinate system</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:right"><p>Humerus x axis</p></td>
<td class="text-align:center"><p><span class="math notranslate nohighlight">\(\begin{bmatrix} 1 \\ 0 \\ 0 \\ 0 \end{bmatrix}\)</span></p></td>
<td class="text-align:center"><p><span class="math notranslate nohighlight">\(\begin{bmatrix} \cos(\theta) \\ \sin(\theta) \\ 0 \\ 0 \end{bmatrix}\)</span></p></td>
</tr>
<tr class="row-odd"><td class="text-align:right"><p>Humerus y axis</p></td>
<td class="text-align:center"><p><span class="math notranslate nohighlight">\(\begin{bmatrix} 0 \\ 1 \\ 0 \\ 0 \end{bmatrix}\)</span></p></td>
<td class="text-align:center"><p><span class="math notranslate nohighlight">\(\begin{bmatrix} -\sin(\theta) \\ \cos(\theta) \\ 0 \\ 0 \end{bmatrix}\)</span></p></td>
</tr>
<tr class="row-even"><td class="text-align:right"><p>Humerus z axis</p></td>
<td class="text-align:center"><p><span class="math notranslate nohighlight">\(\begin{bmatrix} 0 \\ 0 \\ 1 \\ 0 \end{bmatrix}\)</span></p></td>
<td class="text-align:center"><p><span class="math notranslate nohighlight">\(\begin{bmatrix} 0 \\ 0 \\ 1 \\ 0 \end{bmatrix}\)</span></p></td>
</tr>
</tbody>
</table>
<p>Combining these four vectors into a single 4x4 matrix gives the frame <span class="math notranslate nohighlight">\(~^\text{global}_\text{humerus}T\)</span>:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
~^\text{global}_\text{humerus}T = \begin{bmatrix}
\cos(\theta) &amp; -\sin(\theta) &amp; 0 &amp; x_\text{humerus} \\
\sin(\theta) &amp; \cos(\theta) &amp; 0 &amp; y_\text{humerus} \\
0 &amp; 0 &amp; 1 &amp; z_\text{humerus} \\
0 &amp; 0 &amp; 0 &amp; 1
\end{bmatrix}
\end{split}\]</div>
<p>where the expression <span class="math notranslate nohighlight">\(~^\text{global}_\text{humerus}T\)</span> is read as: Position and orientation of the humerus coordinate system, expressed in the global coordinate system.</p>
<p>For example, if the shoulder is located 15 cm forward and 70 cm upward to the global origin, and the humerus is inclined at 30 degrees of the vertical, then the position and orientation of the humerus coordinate system is expressed by the frame:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
~^\text{global}_\text{humerus}T = \begin{bmatrix}
\cos(30) &amp; -\sin(30) &amp; 0 &amp; 0.15 \\
\sin(30) &amp; \cos(30) &amp; 0 &amp; 0.7 \\
0 &amp; 0 &amp; 1 &amp; 0 \\
0 &amp; 0 &amp; 0 &amp; 1
\end{bmatrix} \\=
\begin{bmatrix}
0.866 &amp; -0.5 &amp; 0 &amp; 0.15 \\
0.5 &amp; 0.866 &amp; 0 &amp; 0.7 \\
0 &amp; 0 &amp; 1 &amp; 0 \\
0 &amp; 0 &amp; 0 &amp; 1
\end{bmatrix}
\end{split}\]</div>
<p>Independently of the position and orientation of the studied body, a frame always has this form:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{bmatrix}
R_{11} &amp; R_{12} &amp; R_{13} &amp; P_xÂ \\
R_{21} &amp; R_{22} &amp; R_{23} &amp; P_y \\
R_{31} &amp; R_{32} &amp; R_{33} &amp; P_z \\
0      &amp; 0      &amp; 0      &amp; 1
\end{bmatrix}
\end{split}\]</div>
<p>where:</p>
<ul class="simple">
<li><p>the <span class="math notranslate nohighlight">\(R\)</span> sub-matrix is a function of three rotation angles and represents the orientation of the local coordinate system;</p></li>
<li><p>the <span class="math notranslate nohighlight">\(P\)</span> vector is the position of the local coordinate systemâ€™s origin.</p></li>
</ul>
</section>
</section>
<section id="rotations-and-translations-the-homogeneous-transform">
<h2>Rotations and translations: the homogeneous transform<a class="headerlink" href="#rotations-and-translations-the-homogeneous-transform" title="Permalink to this headline">#</a></h2>
<p>The 4x4 matrix that we just constructed is very important, not only to express the position and orientation of a local coordinate system, but also to express transformations such as rotations and translations. In this second case, the same 4x4 matrix is called an homogeneous transform, and:</p>
<ul class="simple">
<li><p>the <span class="math notranslate nohighlight">\(R\)</span> sub-matrix represents a rotation;</p></li>
<li><p>the <span class="math notranslate nohighlight">\(P\)</span> vector is a translation.</p></li>
</ul>
<section id="moving-coordinates">
<h3>Moving coordinates<a class="headerlink" href="#moving-coordinates" title="Permalink to this headline">#</a></h3>
<p>Any coordinate (point, vector or frame) that is multiplied by the homogeneous transform will be rotated by <span class="math notranslate nohighlight">\(R\)</span> and translated by <span class="math notranslate nohighlight">\(P\)</span>:</p>
<div class="math notranslate nohighlight">
\[
p_{\text{tranformed}} = T p_\text{initial}
\]</div>
<p>For example, if we want to rotate the point (10, 0, 0) by 30 degrees around the originâ€™s z axis, then translate it 2 units to the right:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
p_{\text{tranformed}} =
\begin{bmatrix}
\cos(30) &amp; -\sin(30) &amp; 0 &amp; 2 \\
\sin(30) &amp; \cos(30) &amp; 0 &amp; 0 \\
0 &amp; 0 &amp; 1 &amp; 0 \\
0 &amp; 0 &amp; 0 &amp; 1
\end{bmatrix}
\begin{bmatrix} 10 \\ 0 \\ 0 \\ 1 \end{bmatrix} \\ =
\begin{bmatrix} 10\cos(30) + 2 \\ 10\sin(30) \\ 0 \\ 1 \end{bmatrix} =
\begin{bmatrix} 8.66 \\ 5 \\ 0 \\ 1 \end{bmatrix}
\end{split}\]</div>
</section>
<section id="remap-coordinates-to-other-coordinate-systems">
<h3>Remap coordinates to other coordinate systems<a class="headerlink" href="#remap-coordinates-to-other-coordinate-systems" title="Permalink to this headline">#</a></h3>
<p>An homogenenous transform can rotate and translate any coordinate, including points, vectors and frames. Since the orientation and position of a coordinate system is itself expressed by a frame, then an homogeneous transform can also rotate and translate a coordinate system.</p>
<p>This is a great opportunity to express coordinates from a coordinate system to another. As such, the <span class="math notranslate nohighlight">\(~^\text{global}_\text{humerus}T\)</span> matrix that we formed in the last section has a first function that we already know:</p>
<ol class="simple">
<li><p>Expressing the position and orientation of the humerus coordinate system.</p></li>
</ol>
<p>But it also has a second function:</p>
<ol class="simple">
<li><p>Remap coordinates from the humerus local coordinate system to the global coordinate system.</p></li>
</ol>
<p>This is performed exactly as we did above when we rotated and translated a point. Multiplying a point expressed in a local coordinate system by its own frame of reference gives the position of the point expressed in global coordinates:</p>
<div class="math notranslate nohighlight">
\[
~^\text{global}p = ~^\text{global}_\text{local}T ~^\text{local}p
\]</div>
<p>We are due for an example. Letâ€™s say we known that the lenght of the arm is 38 cm, and we want to express the position of the elbow in the global coordinate system. We will assume the same posture as before: the shoulder is located 15 cm forward and 70 cm upward to the global origin and the humerus is inclined at 30 degrees of the vertical.</p>
<p>The position of the elbow in the humerus coordinate system is:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
~^\text{humerus}p_\text{elbow} = \begin{bmatrix}
0 \\ -0.38 \\ 0 \\ 1
\end{bmatrix}
\end{split}\]</div>
<p>The humerus frame is:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
~^\text{global}_\text{humerus}T = \begin{bmatrix}
\cos(30) &amp; -\sin(30) &amp; 0 &amp; 0.15 \\
\sin(30) &amp; \cos(30) &amp; 0 &amp; 0.7 \\
0 &amp; 0 &amp; 1 &amp; 0 \\
0 &amp; 0 &amp; 0 &amp; 1
\end{bmatrix} \\=
\begin{bmatrix}
0.866 &amp; -0.5 &amp; 0 &amp; 0.15 \\
0.5 &amp; 0.866 &amp; 0 &amp; 0.7 \\
0 &amp; 0 &amp; 1 &amp; 0 \\
0 &amp; 0 &amp; 0 &amp; 1
\end{bmatrix}
\end{split}\]</div>
<p>Therefore, the position of the elbow in the global coordinate system is:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
~^\text{global}p_\text{elbow} =
~^\text{global}_\text{humerus}T ~^\text{humerus}p_\text{elbow} \\=
\begin{bmatrix}
0.866 &amp; -0.5 &amp; 0 &amp; 0.15 \\
0.5 &amp; 0.866 &amp; 0 &amp; 0.7 \\
0 &amp; 0 &amp; 1 &amp; 0 \\
0 &amp; 0 &amp; 0 &amp; 1
\end{bmatrix}
\begin{bmatrix}
0 \\ -0.38 \\ 0 \\ 1
\end{bmatrix} \\=
\begin{bmatrix}
0.19 + 0.15 \\
-0.329 + 0.7 \\
0 \\
1 \end{bmatrix} =
\begin{bmatrix}
0.34 \\ 0.371 \\ 0 \\ 1
\end{bmatrix}
\end{split}\]</div>
<p>Its final coordinates are <span class="math notranslate nohighlight">\((0.34, 0.371, 0)\)</span>.</p>
</section>
</section>
<section id="main-points-to-remember">
<h2>Main points to remember<a class="headerlink" href="#main-points-to-remember" title="Permalink to this headline">#</a></h2>
<p>We will see in the next tutorial that Kinetics Toolkitâ€™s geometry module has several functions to ease the expression of coordinates from one coordinate system to another, to create frames and homogeneous transforms, etc. However, I believe it is important to remember these concepts, to understand how geometric data is represented and calculated.</p>
<ul class="simple">
<li><p>A point expresses a position in a given coordinate system, and is written as the 4x1 vector:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{bmatrix}
x \\ y \\ z \\ 1
\end{bmatrix}
\end{split}\]</div>
<ul class="simple">
<li><p>A vector expresses a displacement, velocity, acceleration, force, etc., in a given coordinate system, and is written as the 4x1 vector:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{bmatrix}
x \\ y \\ z \\ 0
\end{bmatrix}
\end{split}\]</div>
<ul class="simple">
<li><p>A frame expresses the orientation <span class="math notranslate nohighlight">\(R\)</span> and position <span class="math notranslate nohighlight">\(P\)</span> of a local coordinate system into a reference coordinate system, and is written as the 4x4 matrix:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{bmatrix}
R_{11} &amp; R_{12} &amp; R_{13} &amp; P_x \\
R_{21} &amp; R_{22} &amp; R_{23} &amp; P_y \\
R_{31} &amp; R_{32} &amp; R_{33} &amp; P_z \\
0      &amp; 0      &amp; 0      &amp; 1
\end{bmatrix}
\end{split}\]</div>
<ul class="simple">
<li><p>An homogeneous transform expresses a rotation <span class="math notranslate nohighlight">\(R\)</span> and translation <span class="math notranslate nohighlight">\(P\)</span> from a given frame to another, and is written as the same 4x4 matrix:</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{bmatrix}
R_{11} &amp; R_{12} &amp; R_{13} &amp; P_x \\
R_{21} &amp; R_{22} &amp; R_{23} &amp; P_y \\
R_{31} &amp; R_{32} &amp; R_{33} &amp; P_z \\
0      &amp; 0      &amp; 0      &amp; 1
\end{bmatrix}
\end{split}\]</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="geometry.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">3D rigid body geometry</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="geometry_dimension_conventions.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Dimension conventions and first example</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By FÃ©lix ChÃ©nier<br/>
  
      &copy; Copyright 2020-2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>